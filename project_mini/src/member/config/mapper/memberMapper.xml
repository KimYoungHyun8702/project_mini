<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">
<!-- member.config.mapper.memberMapper -->

<sql id="select-sql">
		SELECT member_id, member_name, member_password, 
		member_email, member_sex, member_age
		FROM member
	</sql>

<resultMap type="member" id="member-resultmap">
		<id column="member_id" property="memberId"/>
		<result column="member_name" property="memberName"/>
		<result column="member_password" property="memberPassword"/>
		<result column="member_email" property="memberEmail"/>
		<result column="member_sex" property="memberSex"/>
		<result column="member_age" property="memberAge"/>
	</resultMap>


<!-- 하나의 회원 정보를 입력하는 Dao 메소드 -->
<insert id="insertMember" parameterType="member">
INSERT INTO member VALUES
(#{memberId},#{memberName},#{memberPassword},
#{memberEmail},#{memberSex},#{memberAge})
</insert>

<!-- 하나의 회원 정보를 수정하는 Dao 메소드 -->
<update id="updateMember" parameterType="member">
UPDATE member 
SET member_name = #{memberName},
	  member_password = #{memberPassword},
	  member_email = #{memberEmail},
	  member_sex = #{memberSex},
	  member_age = #{memberAge}
WHERE  member_id =#{memberId}
</update>

<!-- 하나의 회원 정보를 삭제하는 Dao 메소드 (비밀번호를 확인한 뒤에)-->
<delete id="deleteMemberById" parameterType="String">
DELETE FROM member WHERE member_id=#{value}

</delete>

<!-- 회원 ID를 매개변수로 받아 조회하는 메소드 -->
<select id="selectMemberById" parameterType="String" resultMap="member-resultmap">
	<include refid="select-sql"/>
	WHERE member_id=#{value}
</select>

<!-- 회원 ID를 매개변수로 받아 조회하는 메소드 -->
<select id="selectMemberByEmail" parameterType="String" resultMap="member-resultmap">
	<include refid="select-sql"/>
	WHERE member_email=#{value}
</select>

</mapper>